// ã‚‚ã¨ã®JSONæ–‡å­—åˆ—
let jsonStr = `{
  "vin": "V1001",
  "lat": 35.631,
  "lng": 139.778,
  "battery": 80,
  "plug": "Other"
}`;

// JSONã‚’ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¤‰æ›
let data = JSON.parse(jsonStr);

// --- ä¸€éƒ¨ã‚’ä¸Šæ›¸ã ---
data.battery = 90;   // æ®‹é‡ã‚’å¤‰æ›´
data.plug = "Charging"; // çŠ¶æ…‹ã‚’å¤‰æ›´

// å¤‰æ›´ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å†åº¦JSONæ–‡å­—åˆ—ã«å¤‰æ›
let newJsonStr = JSON.stringify(data, null, 2);

console.log(newJsonStr);

ğŸ”¹ 1. éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†ç”Ÿã™ã‚‹æ–¹æ³•
HTMLã« <audio> ã‚¿ã‚°ã‚’ç”¨æ„
<audio id="alertSound" src="alert.mp3" preload="auto"></audio>

JSã§å†ç”Ÿ
function playAlertSound(){
  const audio = document.getElementById('alertSound');
  if(audio) {
    audio.currentTime = 0; // å†ç”Ÿä½ç½®ã‚’å…ˆé ­ã«æˆ»ã™
    audio.play();
  }
}

onChargeå†…ã§å‘¼ã¶
if(isRun && ch['remaining-charge-time'] <= 40){
  playAlertSound();
}

ğŸ”¹ 2. ç”»é¢ã«ã‚¢ãƒ©ãƒ¼ãƒˆã‚’å‡ºã™æ–¹æ³•
å˜ç´”ãª alert()
if(isRun && ch['remaining-charge-time'] <= 40){
  alert(`âš  è»Šä¸¡ ${id} ã®ãƒãƒƒãƒ†ãƒªãƒ¼æ®‹é‡ãŒ40%ä»¥ä¸‹ã§ã™ï¼`);
}


â†’ ãŸã ã—ã€æ¯å›ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‡ºã‚‹ã®ã§å°‘ã—ä½¿ã„ã«ãã„ã€‚

ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒ©ãƒ¼ãƒˆï¼ˆç”»é¢ã®ä¸Šã«èµ¤ã„ãƒœãƒƒã‚¯ã‚¹ã‚’å‡ºã™ï¼‰
<div id="alertBox" class="hidden"></div>

#alertBox {
  position: fixed;
  top: 10px; left: 50%;
  transform: translateX(-50%);
  background: red; color: white;
  padding: 12px 20px;
  border-radius: 6px;
  font-weight: bold;
  z-index: 9999;
}
.hidden { display: none; }

function showAlert(msg){
  const box = document.getElementById('alertBox');
  if(!box) return;
  box.textContent = msg;
  box.classList.remove('hidden');
  setTimeout(()=> box.classList.add('hidden'), 5000); // 5ç§’ã§æ¶ˆãˆã‚‹
}

onChargeå†…ã§å‘¼ã¶
if(isRun && ch['remaining-charge-time'] <= 40){
  showAlert(`âš  è»Šä¸¡ ${id} ã®ãƒãƒƒãƒ†ãƒªãƒ¼æ®‹é‡ãŒ40%ä»¥ä¸‹ã§ã™ï¼`);
}

ğŸ”¹ 3. éŸ³å£°ï¼‹ç”»é¢ã‚¢ãƒ©ãƒ¼ãƒˆã‚’ä¸¡æ–¹
if(isRun && ch['remaining-charge-time'] <= 40){
  playAlertSound();
  showAlert(`âš  è»Šä¸¡ ${id} ã®ãƒãƒƒãƒ†ãƒªãƒ¼æ®‹é‡ãŒ40%ä»¥ä¸‹ã§ã™ï¼`);
}

ã¾ã¨ã‚

éŸ³å£°è­¦å‘Š â†’ <audio> ã‚¿ã‚°ã¨ audio.play()

ç”»é¢è­¦å‘Š â†’ alert() ã¾ãŸã¯ã‚«ã‚¹ã‚¿ãƒ UI

ä¸¡æ–¹åŒæ™‚ã‚‚ç°¡å˜ã«ã§ãã‚‹