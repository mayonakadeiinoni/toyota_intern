:root{
  --brand-red:#EB0A1E;
  --ink:#111;
  --muted:#6b7280;
  --line:#e5e7eb;
  --bg:#f8fafc;
  --card:#ffffff;
}
*{box-sizing:border-box}
html, body{height:100%; margin:0; font-family:'Noto Sans JP', system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif; color:var(--ink); background:var(--bg);}
#map{position:absolute; inset:64px 0 0 0;}

/* Topbar */
.topbar{position:fixed; top:0; left:0; right:0; height:64px; z-index:1100; background:var(--card); border-bottom:1px solid var(--line); display:flex; align-items:center; gap:12px; padding:0 16px;}
.brand{display:flex; align-items:center; gap:10px; font-weight:700;}
.brand .dot{width:16px; height:16px; border-radius:50%; background:var(--brand-red); display:inline-block}
.badge{display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border:1px solid var(--line); background:var(--card); border-radius:100px; font-size:12px; color:var(--muted)}
.spacer{flex:1}

/* Buttons / inputs */
.btn{padding:8px 12px; border:1px solid var(--line); background:var(--card); cursor:pointer; border-radius:10px; transition:.15s ease; font-weight:600;}
.btn:hover{transform:translateY(-1px); box-shadow:0 2px 8px rgba(0,0,0,.06)}
.btn-primary{background:var(--brand-red); color:#fff; border-color:var(--brand-red)}
.btn-ghost{background:transparent}
.input{width:120px; padding:8px; border:1px solid var(--line); border-radius:8px}
.row{display:flex; gap:8px; align-items:center}

/* Drawer */
.drawer{position:fixed; top:64px; right:0; width:420px; height:calc(100% - 64px); background:var(--card); border-left:1px solid var(--line); z-index:1200; overflow-y:auto; padding:16px; min-width:320px; max-width:720px;}
.hidden{display:none}
.drawer-header{display:flex; align-items:center; justify-content:space-between; padding-bottom:8px; border-bottom:1px solid var(--line); margin-bottom:12px}
.panel{margin-bottom:16px; background:var(--card); border:1px solid var(--line); border-radius:12px; padding:12px}
.hint{ color:var(--muted); font-size:12px;}

/* Manual resize handle (visible red bar) */
.drawer .resize-handle{ position:absolute; left:-10px; top:0; width:14px; height:100%; cursor:ew-resize; background:rgba(235,10,30,.55); box-shadow: inset -1px 0 0 var(--line), inset 1px 0 0 rgba(0,0,0,.05); }
.drawer .resize-handle:hover{ background:rgba(235,10,30,.8); }

/* Table */
#vehicleTable table{width:100%; border-collapse:collapse; font-size:13px}
#vehicleTable th,#vehicleTable td{border-bottom:1px solid var(--line); padding:8px 6px; text-align:left}
#vehicleTable th{color:#374151; font-weight:700}
#vehicleTable a{color:var(--brand-red); text-decoration:none}
#vehicleTable a:hover{text-decoration:underline}

/* Log */
.log{background:#0b1220; color:#e5e7eb; border-radius:10px; padding:10px; max-height:240px; overflow:auto; border:1px solid #111827}

/* Leaflet controls (bigger buttons) */
.leaflet-control-zoom a{ width:40px; height:40px; line-height:38px; font-size:18px; border-radius:12px; border-color:var(--line); background:var(--card); color:var(--ink); }
.leaflet-control-zoom a:hover{ box-shadow:0 2px 8px rgba(0,0,0,.08); }
